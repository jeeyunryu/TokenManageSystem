{
  "manifest": {
    "name": "treeverse",
    "version": "3.0.0",
    "description": "Walk any kind of tree structure depth- or breadth-first. Supports promises and advanced map-reduce operations with a very small API.",
    "author": {
      "name": "GitHub Inc."
    },
    "license": "ISC",
    "repository": {
      "type": "git",
      "url": "https://github.com/npm/treeverse.git"
    },
    "scripts": {
      "test": "tap",
      "snap": "tap",
      "lint": "eslint \"**/*.js\"",
      "postlint": "template-oss-check",
      "template-oss-apply": "template-oss-apply --force",
      "lintfix": "npm run lint -- --fix",
      "posttest": "npm run lint"
    },
    "tap": {
      "100": true,
      "coverage-map": "test/coverage-map.js",
      "nyc-arg": [
        "--exclude",
        "tap-snapshots/**"
      ]
    },
    "devDependencies": {
      "@npmcli/eslint-config": "^3.0.1",
      "@npmcli/template-oss": "4.5.1",
      "tap": "^16.0.1"
    },
    "files": [
      "bin/",
      "lib/"
    ],
    "main": "lib/index.js",
    "keywords": [
      "tree",
      "traversal",
      "depth first search",
      "breadth first search"
    ],
    "engines": {
      "node": "^14.17.0 || ^16.13.0 || >=18.0.0"
    },
    "templateOSS": {
      "//@npmcli/template-oss": "This file is partially managed by @npmcli/template-oss. Edits may be overwritten.",
      "version": "4.5.1"
    },
    "_registry": "npm",
    "_loc": "/home/ubuntu/.cache/yarn/v6/npm-treeverse-3.0.0-dd82de9eb602115c6ebd77a574aae67003cb48c8-integrity/node_modules/treeverse/package.json",
    "readmeFilename": "README.md",
    "readme": "# treeverse\n\nWalk any kind of tree structure depth- or breadth-first. Supports promises\nand advanced map-reduce operations with a very small API.\n\nTreeverse does not care what kind of tree it is, it will traverse it for\nyou just fine.  It does the right thing with functions that return\nPromises, and returns a non-Promise value if your functions don't return\nPromises.\n\nRather than imposing a specific structure, like requiring you to have child\nnodes stored in a `children` array, it calls the supplied `getChildren()`\nfunction, so the children can be anywhere (or not even exist yet!)  This\nmakes it suitable for _creating_ an optimized tree from a set of dependency\nmanifests, for example.\n\n## USAGE\n\n```js\nconst {depth, breadth} = require('treeverse')\n\n// depth-first traversal\n// returns a promise if any visit/leave function returns a promise\n// otherwise returns the result of leave, or visit if no leave function\n// provided.\ndepth({\n  // the root node where we start the traversal\n  tree: rootNode,\n\n  visit (node) {\n    // optional\n    // called upon descent into the node.\n    // return a promise, or a mapped value, or nothing to just leave it\n    // as-is\n  },\n  leave (node, children) {\n    // optional\n    // called as we ascend back to the root of the tree.\n    // return a promise, or a reduced value, or nothing to leave it as is\n    // the children array is a list of the child nodes that have been\n    // visited (and potentially left) already.  If the tree is acyclic,\n    // then leave() will have been called on all of them.  If it has\n    // cycles, then the children may not have been left yet.\n  },\n  getChildren (node, nodeResult) {\n    // required\n    // return an array of child nodes in the tree, if any exist\n    // returning a promise is totally ok, of course.\n    // the first argument is the original value of the node.  The second\n    // argument is the result of visit(node).\n  },\n  filter (node) {\n    // optional\n    // return true if the node should be visited, false otherwise\n    // initial tree is always visited, so this only filters children\n    // note that filtering a node _also_ filters all of its children.\n  },\n})\n\n// breadth first traversal\n// returns a promise if any visit function returns a promise\n// otherwise returns the result of the top-level node.\n// note that only a visit() function is supported here, since a node's\n// children are typically traversed much later in the process.\nbreadth({\n  // the root node where we start the traversal\n  tree: rootNode,\n\n  visit (node) {\n    // optional, but a no-op if not provided.\n    // called when this node is encountered in the traversal.\n    // return a promise, or a mapped value, or nothing to leave as-is.\n  },\n  getChildren (node, nodeResult) {\n    // required, same as depth()\n  },\n  filter (node) {\n    // optional, same as depth()\n  },\n})\n```\n\n## API\n\nBoth functions take a single options object as an argument, and return\neither the result value, or a Promise to the result value if the\nmethods in the options argument ever return a Promise.\n\n* `treeverse.breadth` - Perform a breadth-first traversal.  That is, walk\n  across node siblings before traversing node children.\n* `treeverse.depth` - Perform a depth-first traversal.  That is, walk\n  down into child nodes before traversing siblings.\n\n## OPTIONS\n\nAll function options can return a Promise or actual value.\n\nThe return value is the result of the top level visit function if no leave\nfunction is provided, or leave.  If any method along the way returns a\npromise, then the top level function will return a promise which resolves\nto the result of visiting (and leaving) the top node in the tree.\n\n* `tree` - The initial node where the traversal begins.\n* `visit(node)` - Function to call upon visiting a node.\n* `leave(node, children)` - (Depth only) Function to call upon leaving a\n  node, once all of its children have been visited, and potentially left.\n  `children` is an array of child node visit results.  If the graph is\n  cyclic, then some children _may_ have been visited but not left.\n* `getChildren(node, nodeResult)` - Get an array of child nodes to process.\n* `filter` - Filter out child nodes from the traversal.  Note that this\n  filters the entire branch of the tree, not just that one node.  That is,\n  children of filtered nodes are not traversed either.\n\n## STACK DEPTH WARNING\n\nWhen a `leave` method is specified, then recursion is used, because\nmaintaining state otherwise is challenging.  This means that using `leave`\nwith a synchronous depth first traversal of very deeply nested trees will\nresult in stack overflow errors.\n\nTo avoid this, either make one or more of the functions async, or do all of\nthe work in the `visit` method.\n\nBreadth-first traversal always uses a loop, and is stack-safe.\n\nIt is _possible_ to implement depth first traversal with a leave method\nusing a loop rather than recursion, but maintaining the `leave(node,\n[children])` API surface would be challenging, and is not implemented at\nthis time.\n",
    "licenseText": "The ISC License\n\nCopyright (c) npm, Inc. and Contributors\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted, provided that the above\ncopyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\nWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\nANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\nWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\nACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR\nIN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/treeverse/-/treeverse-3.0.0.tgz#dd82de9eb602115c6ebd77a574aae67003cb48c8",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/treeverse/-/treeverse-3.0.0.tgz",
    "hash": "dd82de9eb602115c6ebd77a574aae67003cb48c8",
    "integrity": "sha512-gcANaAnd2QDZFmHFEOF4k7uc1J/6a6z3DJMd/QwEyxLoKGiptJRwid582r7QIsFlFMIZ3SnxfS52S4hm2DHkuQ==",
    "registry": "npm",
    "packageName": "treeverse",
    "cacheIntegrity": "sha512-gcANaAnd2QDZFmHFEOF4k7uc1J/6a6z3DJMd/QwEyxLoKGiptJRwid582r7QIsFlFMIZ3SnxfS52S4hm2DHkuQ== sha1-3YLenrYCEVxuvXeldKrmcAPLSMg="
  },
  "registry": "npm",
  "hash": "dd82de9eb602115c6ebd77a574aae67003cb48c8"
}