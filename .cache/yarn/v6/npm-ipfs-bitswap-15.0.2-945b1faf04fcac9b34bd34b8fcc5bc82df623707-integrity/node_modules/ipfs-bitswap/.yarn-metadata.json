{
  "manifest": {
    "name": "ipfs-bitswap",
    "version": "15.0.2",
    "description": "JavaScript implementation of the Bitswap data exchange protocol used by IPFS",
    "license": "Apache-2.0 OR MIT",
    "homepage": "https://github.com/ipfs/js-ipfs-bitswap#readme",
    "repository": {
      "type": "git",
      "url": "git+https://github.com/ipfs/js-ipfs-bitswap.git"
    },
    "bugs": {
      "url": "https://github.com/ipfs/js-ipfs-bitswap/issues"
    },
    "keywords": [
      "exchange",
      "ipfs",
      "libp2p",
      "p2p"
    ],
    "engines": {
      "node": ">=16.0.0",
      "npm": ">=7.0.0"
    },
    "type": "module",
    "types": "./dist/src/index.d.ts",
    "typesVersions": {
      "*": {
        "*": [
          "*",
          "dist/*",
          "dist/src/*",
          "dist/src/*/index"
        ],
        "src/*": [
          "*",
          "dist/*",
          "dist/src/*",
          "dist/src/*/index"
        ]
      }
    },
    "files": [
      "src",
      "dist",
      "!dist/test",
      "!**/*.tsbuildinfo"
    ],
    "exports": {
      ".": {
        "types": "./dist/src/index.d.ts",
        "import": "./src/index.js"
      }
    },
    "eslintConfig": {
      "extends": "ipfs",
      "parserOptions": {
        "sourceType": "module"
      },
      "ignorePatterns": [
        "scripts/*",
        "src/message/message.*",
        "*.test-d.ts"
      ]
    },
    "release": {
      "branches": [
        "master"
      ],
      "plugins": [
        [
          "@semantic-release/commit-analyzer",
          {
            "preset": "conventionalcommits",
            "releaseRules": [
              {
                "breaking": true,
                "release": "major"
              },
              {
                "revert": true,
                "release": "patch"
              },
              {
                "type": "feat",
                "release": "minor"
              },
              {
                "type": "fix",
                "release": "patch"
              },
              {
                "type": "docs",
                "release": "patch"
              },
              {
                "type": "test",
                "release": "patch"
              },
              {
                "type": "deps",
                "release": "patch"
              },
              {
                "scope": "no-release",
                "release": false
              }
            ]
          }
        ],
        [
          "@semantic-release/release-notes-generator",
          {
            "preset": "conventionalcommits",
            "presetConfig": {
              "types": [
                {
                  "type": "feat",
                  "section": "Features"
                },
                {
                  "type": "fix",
                  "section": "Bug Fixes"
                },
                {
                  "type": "chore",
                  "section": "Trivial Changes"
                },
                {
                  "type": "docs",
                  "section": "Documentation"
                },
                {
                  "type": "deps",
                  "section": "Dependencies"
                },
                {
                  "type": "test",
                  "section": "Tests"
                }
              ]
            }
          }
        ],
        "@semantic-release/changelog",
        "@semantic-release/npm",
        "@semantic-release/github",
        "@semantic-release/git"
      ]
    },
    "scripts": {
      "clean": "aegir clean",
      "lint": "aegir lint",
      "build": "aegir build",
      "release": "aegir release",
      "test": "aegir test",
      "test:node": "aegir test -t node",
      "test:chrome": "aegir test -t browser",
      "test:chrome-webworker": "aegir test -t webworker",
      "test:firefox": "aegir test -t browser -- --browser firefox",
      "test:firefox-webworker": "aegir test -t webworker -- --browser firefox",
      "test:electron-main": "aegir test -t electron-main",
      "dep-check": "aegir dep-check",
      "generate": "run-s generate:*",
      "generate:proto": "pbjs -t static-module -w es6 -r ipfs-bitswap --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/message/message.js src/message/message.proto",
      "generate:proto-types": "pbts -o src/message/message.d.ts src/message/message.js",
      "docs": "aegir docs"
    },
    "dependencies": {
      "@libp2p/interface-connection": "^3.0.1",
      "@libp2p/interface-peer-id": "^2.0.0",
      "@libp2p/interface-peer-store": "^1.2.0",
      "@libp2p/interfaces": "^3.2.0",
      "@libp2p/logger": "^2.0.5",
      "@libp2p/topology": "^4.0.0",
      "@libp2p/tracked-map": "^3.0.0",
      "@multiformats/multiaddr": "^11.0.0",
      "@vascosantos/moving-average": "^1.1.0",
      "abortable-iterator": "^4.0.2",
      "any-signal": "^3.0.0",
      "blockstore-core": "^3.0.0",
      "interface-blockstore": "^4.0.0",
      "it-length-prefixed": "^8.0.2",
      "it-pipe": "^2.0.4",
      "just-debounce-it": "^3.0.1",
      "multiformats": "^11.0.0",
      "protobufjs": "^7.0.0",
      "readable-stream": "^4.0.0",
      "timeout-abort-controller": "^3.0.0",
      "uint8arrays": "^4.0.2",
      "varint": "^6.0.0",
      "varint-decoder": "^1.0.0"
    },
    "devDependencies": {
      "@chainsafe/libp2p-noise": "^11.0.0",
      "@libp2p/kad-dht": "^7.0.0",
      "@libp2p/mplex": "^7.0.0",
      "@libp2p/peer-id": "^2.0.0",
      "@libp2p/peer-id-factory": "^2.0.0",
      "@libp2p/tcp": "^6.0.0",
      "@nodeutils/defaults-deep": "^1.1.0",
      "@types/stats-lite": "^2.2.0",
      "@types/varint": "^6.0.0",
      "aegir": "^38.1.0",
      "assert": "^2.0.0",
      "benchmark": "^2.1.4",
      "delay": "^5.0.0",
      "interface-datastore": "^7.0.0",
      "iso-random-stream": "^2.0.0",
      "it-all": "^2.0.0",
      "it-drain": "^2.0.0",
      "libp2p": "^0.42.0",
      "lodash.difference": "^4.5.0",
      "lodash.flatten": "^4.4.0",
      "lodash.range": "^3.2.0",
      "lodash.without": "^4.4.0",
      "npm-run-all": "^4.1.5",
      "p-defer": "^4.0.0",
      "p-event": "^5.0.1",
      "p-wait-for": "^5.0.0",
      "process": "^0.11.10",
      "promisify-es6": "^1.0.3",
      "protobufjs-cli": "^1.0.0",
      "sinon": "^15.0.1",
      "stats-lite": "^2.2.0",
      "url": "^0.11.0",
      "util": "^0.12.3",
      "uuid": "^9.0.0"
    },
    "browser": {
      "test/utils/create-libp2p-node.js": false
    },
    "_registry": "npm",
    "_loc": "/home/ubuntu/.cache/yarn/v6/npm-ipfs-bitswap-15.0.2-945b1faf04fcac9b34bd34b8fcc5bc82df623707-integrity/node_modules/ipfs-bitswap/package.json",
    "readmeFilename": "README.md",
    "readme": "# ipfs-bitswap <!-- omit in toc -->\n\n[![ipfs.tech](https://img.shields.io/badge/project-IPFS-blue.svg?style=flat-square)](https://ipfs.tech)\n[![Discuss](https://img.shields.io/discourse/https/discuss.ipfs.tech/posts.svg?style=flat-square)](https://discuss.ipfs.tech)\n[![codecov](https://img.shields.io/codecov/c/github/ipfs/js-ipfs-bitswap.svg?style=flat-square)](https://codecov.io/gh/ipfs/js-ipfs-bitswap)\n[![CI](https://img.shields.io/github/actions/workflow/status/ipfs/js-ipfs-bitswap/js-test-and-release.yml?branch=master\\&style=flat-square)](https://github.com/ipfs/js-ipfs-bitswap/actions/workflows/js-test-and-release.yml?query=branch%3Amaster)\n\n> JavaScript implementation of the Bitswap data exchange protocol used by IPFS\n\n## Table of contents <!-- omit in toc -->\n\n- [Install](#install)\n  - [Browser `<script>` tag](#browser-script-tag)\n- [Stats](#stats)\n  - [Peer accessor:](#peer-accessor)\n  - [Global snapshot accessor:](#global-snapshot-accessor)\n  - [Moving average accessor:](#moving-average-accessor)\n- [Performance tests](#performance-tests)\n  - [Profiling](#profiling)\n- [API Docs](#api-docs)\n- [License](#license)\n- [Contribute](#contribute)\n\n## Install\n\n```console\n$ npm i ipfs-bitswap\n```\n\n### Browser `<script>` tag\n\nLoading this module through a script tag will make it's exports available as `IpfsBitswap` in the global namespace.\n\n```html\n<script src=\"https://unpkg.com/ipfs-bitswap/dist/index.min.js\"></script>\n```\n\n## Stats\n\n```js\nconst bitswapNode = // ...\n\nconst stats = bitswapNode.stat()\n```\n\nStats contains a snapshot accessor, a moving average acessor and a peer accessor.\n\nBesides that, it emits \"update\" events every time it is updated.\n\n```js\nstats.on('update', (stats) => {\n  console.log('latest stats snapshot: %j', stats)\n})\n```\n\n### Peer accessor:\n\nYou can get the stats for a specific peer by doing:\n\n```js\nconst peerStats = stats.forPeer(peerId)\n```\n\nThe returned object behaves like the root stats accessor (has a snapshot, a moving average accessors and is an event emitter).\n\n### Global snapshot accessor:\n\n```js\nconst snapshot = stats.snapshot\nconsole.log('stats: %j', snapshot)\n```\n\nthe snapshot will contain the following keys, with the values being [bignumber.js](https://github.com/MikeMcl/bignumber.js#readme) instances:\n\n```js\n// stats: {\n//   \"dataReceived\":\"96\",\n//   \"blocksReceived\":\"2\",\n//   \"dataReceived\":\"96\",\n//   \"dupBlksReceived\":\"0\",\n//   \"dupDataReceived\":\"0\",\n//   \"blocksSent\":\"0\",\n//   \"dataSent\":\"0\",\n//   \"providesBufferLength\":\"0\",\n//   \"wantListLength\":\"0\",\n//   \"peerCount\":\"1\"\n// }\n```\n\n### Moving average accessor:\n\n```js\nconst movingAverages = stats.movingAverages\n```\n\nThis object contains these properties:\n\n- 'blocksReceived',\n- 'dataReceived',\n- 'dupBlksReceived',\n- 'dupDataReceived',\n- 'blocksSent',\n- 'dataSent',\n- 'providesBufferLength',\n- 'wantListLength',\n- 'peerCount'\n\n```js\nconst dataReceivedMovingAverages = movingAverages.dataReceived\n```\n\nEach one of these will contain one key per interval (miliseconds), being the default intervals defined:\n\n- 60000 (1 minute)\n- 300000 (5 minutes)\n- 900000 (15 minutes)\n\nYou can then select one of them\n\n```js\nconst oneMinuteDataReceivedMovingAverages = dataReceivedMovingAverages[60000]\n```\n\nThis object will be a [movingAverage](https://github.com/pgte/moving-average#readme) instance.\n\n## Performance tests\n\nYou can run performance tests like this:\n\n    $ npm run benchmarks\n\n### Profiling\n\nYou can run each of the individual performance tests with a profiler like 0x.\n\nTo do that, you need to install 0x:\n\n```bash\n$ npm install 0x --global\n```\n\nAnd then run the test:\n\n```bash\n$ 0x test/benchmarks/get-many\n```\n\nThis will output a flame graph and print the location for it.\nUse the browser Chrome to open and inspect the generated graph.\n\n![Flame graph](https://ipfs.io/ipfs/QmVbyLgYfkLewNtzTAFwAEMmP2hTJgs8sSqsRTBNBjyQ1y)\n\n## API Docs\n\n- <https://ipfs.github.io/js-ipfs-bitswap>\n\n## License\n\nLicensed under either of\n\n- Apache 2.0, ([LICENSE-APACHE](LICENSE-APACHE) / <http://www.apache.org/licenses/LICENSE-2.0>)\n- MIT ([LICENSE-MIT](LICENSE-MIT) / <http://opensource.org/licenses/MIT>)\n\n## Contribute\n\nContributions welcome! Please check out [the issues](https://github.com/ipfs/js-ipfs-bitswap/issues).\n\nAlso see our [contributing document](https://github.com/ipfs/community/blob/master/CONTRIBUTING_JS.md) for more information on how we work, and about contributing in general.\n\nPlease be aware that all interactions related to this repo are subject to the IPFS [Code of Conduct](https://github.com/ipfs/community/blob/master/code-of-conduct.md).\n\nUnless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.\n\n[![](https://cdn.rawgit.com/jbenet/contribute-ipfs-gif/master/img/contribute.gif)](https://github.com/ipfs/community/blob/master/CONTRIBUTING.md)\n",
    "licenseText": "This project is dual licensed under MIT and Apache-2.0.\n\nMIT: https://www.opensource.org/licenses/mit\nApache-2.0: https://www.apache.org/licenses/license-2.0\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/ipfs-bitswap/-/ipfs-bitswap-15.0.2.tgz#945b1faf04fcac9b34bd34b8fcc5bc82df623707",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/ipfs-bitswap/-/ipfs-bitswap-15.0.2.tgz",
    "hash": "945b1faf04fcac9b34bd34b8fcc5bc82df623707",
    "integrity": "sha512-HJLseLdUDeohIihJIaw0ALaGJz52qT6nN06pJjJsew+fXHuXGJo94uulm/BLqr9htZAYZyEKyjxo0z+tg1laRw==",
    "registry": "npm",
    "packageName": "ipfs-bitswap",
    "cacheIntegrity": "sha512-HJLseLdUDeohIihJIaw0ALaGJz52qT6nN06pJjJsew+fXHuXGJo94uulm/BLqr9htZAYZyEKyjxo0z+tg1laRw== sha1-lFsfrwT8rJs0vTS4/MW8gt9iNwc="
  },
  "registry": "npm",
  "hash": "945b1faf04fcac9b34bd34b8fcc5bc82df623707"
}